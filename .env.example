# Weaver AI Environment Variables
# Copy this file to .env and fill in your actual values

# =============================================================================
# Model Configuration
# =============================================================================

# Model provider: "openai", "anthropic", "vllm", "tgi", or "stub" (for testing)
WEAVER_MODEL_PROVIDER=openai

# Default model name (e.g., "gpt-4", "claude-3-opus-20240229")
WEAVER_MODEL_NAME=gpt-4

# Custom model endpoint (optional, for self-hosted models)
# WEAVER_MODEL_ENDPOINT=https://your-model-endpoint.com

# Model API key (if not using environment-specific keys below)
# WEAVER_MODEL_API_KEY=your-model-api-key

# Provider-specific API keys
OPENAI_API_KEY=your-openai-api-key-here
ANTHROPIC_API_KEY=your-anthropic-api-key-here
GROQ_API_KEY=your-groq-api-key-here

# =============================================================================
# Security Configuration
# =============================================================================

# Authentication mode: "api_key" or "jwt"
WEAVER_AUTH_MODE=api_key

# Allowed API keys (comma-separated list for api_key mode)
WEAVER_ALLOWED_API_KEYS=key1,key2,key3

# JWT public key (for jwt mode, RSA public key in PEM format)
# WEAVER_JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqh...\n-----END PUBLIC KEY-----"

# A2A (Agent-to-Agent) signing keys for secure inter-agent communication
# Generate with: openssl genrsa -out private.pem 2048
# WEAVER_A2A_SIGNING_PRIVATE_KEY_PEM="-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----"
# WEAVER_A2A_SIGNING_PUBLIC_KEY_PEM="-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----"

# MCP server public keys (JSON format: {"server1": "key1", "server2": "key2"})
# WEAVER_MCP_SERVER_PUBLIC_KEYS={}

# =============================================================================
# Rate Limiting & Request Configuration
# =============================================================================

# Rate limit: requests per second
WEAVER_RATELIMIT_RPS=5

# Rate limit burst capacity
WEAVER_RATELIMIT_BURST=10

# Maximum tokens per request
WEAVER_REQUEST_MAX_TOKENS=4096

# Request timeout in milliseconds
WEAVER_REQUEST_TIMEOUT_MS=25000

# Maximum number of tools per request
WEAVER_REQUEST_MAX_TOOLS=3

# =============================================================================
# Telemetry & Monitoring
# =============================================================================

# Enable telemetry
WEAVER_TELEMETRY_ENABLED=false

# Telemetry endpoint (e.g., OTLP collector)
# WEAVER_TELEMETRY_ENDPOINT=http://localhost:4317

# =============================================================================
# Security Policies
# =============================================================================

# Enable PII (Personally Identifiable Information) redaction
WEAVER_PII_REDACT=true

# URL allowlist (comma-separated, leave empty to allow all)
# WEAVER_URL_ALLOWLIST=https://api.example.com,https://safe-site.com

# URL denylist (comma-separated)
# WEAVER_URL_DENYLIST=https://malicious-site.com

# =============================================================================
# Logging & Audit
# =============================================================================

# Audit log file path
WEAVER_AUDIT_PATH=./audit.log

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# =============================================================================
# Database Configuration (if using persistence)
# =============================================================================

# Redis configuration (for event mesh, caching, etc.)
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password
# REDIS_DB=0

# PostgreSQL configuration (if using SQL persistence)
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_DB=weaver_ai
# POSTGRES_USER=weaver
# POSTGRES_PASSWORD=your-postgres-password

# =============================================================================
# Development & Testing
# =============================================================================

# Python environment
PYTHONUNBUFFERED=1

# Enable debug mode (NEVER use in production)
DEBUG=false

# Test mode (uses mock models and disables external calls)
TEST_MODE=false

# =============================================================================
# Deployment Configuration
# =============================================================================

# Service host and port
HOST=0.0.0.0
PORT=8000

# Worker configuration
WORKERS=4
WORKER_CLASS=uvicorn.workers.UvicornWorker

# CORS configuration
CORS_ORIGINS=http://localhost:3000,https://your-frontend.com

# =============================================================================
# Feature Flags
# =============================================================================

# Enable experimental features
ENABLE_EXPERIMENTAL=false

# Enable performance profiling
ENABLE_PROFILING=false

# Enable request/response caching
ENABLE_CACHING=false

# Cache TTL in seconds
CACHE_TTL=300

# =============================================================================
# External Service Integration
# =============================================================================

# Slack webhook for notifications (optional)
# SLACK_WEBHOOK_URL=your-slack-webhook-url-here

# Discord webhook for notifications (optional)
# DISCORD_WEBHOOK_URL=your-discord-webhook-url-here

# =============================================================================
# Notes
# =============================================================================
# 1. Never commit this file with real credentials
# 2. Use strong, unique API keys in production
# 3. Rotate keys regularly
# 4. Consider using a secrets management service (e.g., AWS Secrets Manager, HashiCorp Vault)
# 5. For production, use environment-specific configuration files
# 6. Enable telemetry and audit logging in production for observability
